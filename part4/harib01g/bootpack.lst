     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12                                          [SECTION .text]
    13 00000000                                 	GLOBAL	_HariMain
    14 00000000                                 _HariMain:
    15 00000000 55                              	PUSH	EBP
    16 00000001 89 E5                           	MOV	EBP,ESP
    17 00000003 E8 0000006D                     	CALL	_init_palette
    18 00000008 68 000000AB                     	PUSH	171
    19 0000000D 68 0000013F                     	PUSH	319
    20 00000012 6A 00                           	PUSH	0
    21 00000014 6A 00                           	PUSH	0
    22 00000016 6A 0E                           	PUSH	14
    23 00000018 68 00000140                     	PUSH	320
    24 0000001D 68 000A0000                     	PUSH	655360
    25 00000022 E8 000000E9                     	CALL	_boxfill8
    26 00000027 68 000000C7                     	PUSH	199
    27 0000002C 68 0000013F                     	PUSH	319
    28 00000031 68 000000AB                     	PUSH	171
    29 00000036 6A 00                           	PUSH	0
    30 00000038 6A 08                           	PUSH	8
    31 0000003A 68 00000140                     	PUSH	320
    32 0000003F 68 000A0000                     	PUSH	655360
    33 00000044 E8 000000C7                     	CALL	_boxfill8
    34 00000049 83 C4 38                        	ADD	ESP,56
    35 0000004C 68 000000C5                     	PUSH	197
    36 00000051 6A 3B                           	PUSH	59
    37 00000053 68 000000B0                     	PUSH	176
    38 00000058 6A 03                           	PUSH	3
    39 0000005A 6A 04                           	PUSH	4
    40 0000005C 68 00000140                     	PUSH	320
    41 00000061 68 000A0000                     	PUSH	655360
    42 00000066 E8 000000A5                     	CALL	_boxfill8
    43 0000006B 83 C4 1C                        	ADD	ESP,28
    44 0000006E                                 L2:
    45 0000006E E8 [00000000]                   	CALL	_io_hlt
    46 00000073 EB F9                           	JMP	L2
    47                                          [SECTION .data]
    48 00000000                                 _table_rgb.0:
    49 00000000 00                              	DB	0
    50 00000001 00                              	DB	0
    51 00000002 00                              	DB	0
    52 00000003 FF                              	DB	-1
    53 00000004 00                              	DB	0
    54 00000005 00                              	DB	0
    55 00000006 00                              	DB	0
    56 00000007 FF                              	DB	-1
    57 00000008 00                              	DB	0
    58 00000009 FF                              	DB	-1
    59 0000000A FF                              	DB	-1
    60 0000000B 00                              	DB	0
    61 0000000C 00                              	DB	0
    62 0000000D 00                              	DB	0
    63 0000000E FF                              	DB	-1
    64 0000000F FF                              	DB	-1
    65 00000010 00                              	DB	0
    66 00000011 FF                              	DB	-1
    67 00000012 00                              	DB	0
    68 00000013 FF                              	DB	-1
    69 00000014 FF                              	DB	-1
    70 00000015 FF                              	DB	-1
    71 00000016 FF                              	DB	-1
    72 00000017 FF                              	DB	-1
    73 00000018 C6                              	DB	-58
    74 00000019 C6                              	DB	-58
    75 0000001A C6                              	DB	-58
    76 0000001B 84                              	DB	-124
    77 0000001C 00                              	DB	0
    78 0000001D 00                              	DB	0
    79 0000001E 00                              	DB	0
    80 0000001F 84                              	DB	-124
    81 00000020 00                              	DB	0
    82 00000021 84                              	DB	-124
    83 00000022 84                              	DB	-124
    84 00000023 00                              	DB	0
    85 00000024 00                              	DB	0
    86 00000025 00                              	DB	0
    87 00000026 84                              	DB	-124
    88 00000027 84                              	DB	-124
    89 00000028 00                              	DB	0
    90 00000029 84                              	DB	-124
    91 0000002A 00                              	DB	0
    92 0000002B 84                              	DB	-124
    93 0000002C 84                              	DB	-124
    94 0000002D 84                              	DB	-124
    95 0000002E 84                              	DB	-124
    96 0000002F 84                              	DB	-124
    97                                          [SECTION .text]
    98 00000075                                 	GLOBAL	_init_palette
    99 00000075                                 _init_palette:
   100 00000075 55                              	PUSH	EBP
   101 00000076 89 E5                           	MOV	EBP,ESP
   102 00000078 68 [00000000]                   	PUSH	_table_rgb.0
   103 0000007D 6A 0F                           	PUSH	15
   104 0000007F 6A 00                           	PUSH	0
   105 00000081 E8 00000002                     	CALL	_set_palette
   106 00000086 C9                              	LEAVE
   107 00000087 C3                              	RET
   108 00000088                                 	GLOBAL	_set_palette
   109 00000088                                 _set_palette:
   110 00000088 55                              	PUSH	EBP
   111 00000089 89 E5                           	MOV	EBP,ESP
   112 0000008B 57                              	PUSH	EDI
   113 0000008C 56                              	PUSH	ESI
   114 0000008D 53                              	PUSH	EBX
   115 0000008E 51                              	PUSH	ECX
   116 0000008F 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   117 00000092 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   118 00000095 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   119 00000098 E8 [00000000]                   	CALL	_io_load_eflags
   120 0000009D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   121 000000A0 E8 [00000000]                   	CALL	_io_cli
   122 000000A5 53                              	PUSH	EBX
   123 000000A6 68 000003C8                     	PUSH	968
   124 000000AB E8 [00000000]                   	CALL	_io_out8
   125 000000B0 39 FB                           	CMP	EBX,EDI
   126 000000B2 58                              	POP	EAX
   127 000000B3 5A                              	POP	EDX
   128 000000B4 7E 12                           	JLE	L11
   129 000000B6                                 L13:
   130 000000B6 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   131 000000B9 89 45 08                        	MOV	DWORD [8+EBP],EAX
   132 000000BC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   133 000000BF 5B                              	POP	EBX
   134 000000C0 5E                              	POP	ESI
   135 000000C1 5F                              	POP	EDI
   136 000000C2 5D                              	POP	EBP
   137 000000C3 E9 [00000000]                   	JMP	_io_store_eflags
   138 000000C8                                 L11:
   139 000000C8 8A 06                           	MOV	AL,BYTE [ESI]
   140 000000CA 43                              	INC	EBX
   141 000000CB C0 E8 02                        	SHR	AL,2
   142 000000CE 0F B6 C0                        	MOVZX	EAX,AL
   143 000000D1 50                              	PUSH	EAX
   144 000000D2 68 000003C9                     	PUSH	969
   145 000000D7 E8 [00000000]                   	CALL	_io_out8
   146 000000DC 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   147 000000DF C0 E8 02                        	SHR	AL,2
   148 000000E2 0F B6 C0                        	MOVZX	EAX,AL
   149 000000E5 50                              	PUSH	EAX
   150 000000E6 68 000003C9                     	PUSH	969
   151 000000EB E8 [00000000]                   	CALL	_io_out8
   152 000000F0 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   153 000000F3 C0 E8 02                        	SHR	AL,2
   154 000000F6 83 C6 03                        	ADD	ESI,3
   155 000000F9 0F B6 C0                        	MOVZX	EAX,AL
   156 000000FC 50                              	PUSH	EAX
   157 000000FD 68 000003C9                     	PUSH	969
   158 00000102 E8 [00000000]                   	CALL	_io_out8
   159 00000107 83 C4 18                        	ADD	ESP,24
   160 0000010A 39 FB                           	CMP	EBX,EDI
   161 0000010C 7E BA                           	JLE	L11
   162 0000010E EB A6                           	JMP	L13
   163 00000110                                 	GLOBAL	_boxfill8
   164 00000110                                 _boxfill8:
   165 00000110 55                              	PUSH	EBP
   166 00000111 89 E5                           	MOV	EBP,ESP
   167 00000113 57                              	PUSH	EDI
   168 00000114 56                              	PUSH	ESI
   169 00000115 53                              	PUSH	EBX
   170 00000116 57                              	PUSH	EDI
   171 00000117 57                              	PUSH	EDI
   172 00000118 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   173 0000011B 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   174 0000011E 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   175 00000121 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   176 00000124 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   177 00000127 7F 31                           	JG	L26
   178 00000129 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   179 0000012C 0F AF D9                        	IMUL	EBX,ECX
   180 0000012F                                 L24:
   181 0000012F 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   182 00000132 39 FA                           	CMP	EDX,EDI
   183 00000134 7F 1B                           	JG	L28
   184 00000136 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   185 00000139 01 DE                           	ADD	ESI,EBX
   186 0000013B 01 D6                           	ADD	ESI,EDX
   187 0000013D 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   188 00000140                                 L23:
   189 00000140 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   190 00000143 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   191 00000146 42                              	INC	EDX
   192 00000147 88 06                           	MOV	BYTE [ESI],AL
   193 00000149 46                              	INC	ESI
   194 0000014A 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   195 0000014D 39 FA                           	CMP	EDX,EDI
   196 0000014F 7E EF                           	JLE	L23
   197 00000151                                 L28:
   198 00000151 41                              	INC	ECX
   199 00000152 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   200 00000155 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   201 00000158 7E D5                           	JLE	L24
   202 0000015A                                 L26:
   203 0000015A 5B                              	POP	EBX
   204 0000015B 5E                              	POP	ESI
   205 0000015C 5B                              	POP	EBX
   206 0000015D 5E                              	POP	ESI
   207 0000015E 5F                              	POP	EDI
   208 0000015F 5D                              	POP	EBP
   209 00000160 C3                              	RET
